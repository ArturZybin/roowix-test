(this["webpackJsonproowix-test"]=this["webpackJsonproowix-test"]||[]).push([[0],{11:function(e,t,l){e.exports=l(18)},17:function(e,t,l){},18:function(e,t,l){"use strict";l.r(t);var n=l(0),a=l.n(n),r=l(6),o=l.n(r),c=l(2),s=l(7),i=l(8),u=l(10),d=l(9),m=(l(16),l(17),function(e){var t=e.isRight,l=e.selectionCoords,r=e.setSelected,o=Object(n.useRef)(null),c=function(e,t){if(!e||!function(e){return null!==(null===e||void 0===e?void 0:e.start.x)&&null!==(null===e||void 0===e?void 0:e.start.y)&&null!==(null===e||void 0===e?void 0:e.end.x)&&null!==(null===e||void 0===e?void 0:e.end.y)}(t))return!1;var l=e.getBoundingClientRect(),n=l.x,a=n+l.width,r=window.pageYOffset+l.y,o=r+l.height,c=Math.min(null===t||void 0===t?void 0:t.start.x,null===t||void 0===t?void 0:t.end.x),s=Math.max(null===t||void 0===t?void 0:t.start.x,null===t||void 0===t?void 0:t.end.x),i=Math.min(null===t||void 0===t?void 0:t.start.y,null===t||void 0===t?void 0:t.end.y),u=Math.max(null===t||void 0===t?void 0:t.start.y,null===t||void 0===t?void 0:t.end.y);return a>c&&n<s&&o>i&&r<u}(o.current,l);Object(n.useEffect)((function(){r(c)}),[c]);var s="table__cell ";return s+=c?"table__cell_selected ":"",s+=t?"table__cell_right":"",a.a.createElement("td",{ref:o,className:s})});var v=function(e){var t=e.matrix,l=e.selectionCoords,r=e.setSelectedCell,o=e.selectedCellsPosition,c=Object(n.useRef)(null),s=function(e){for(var t=["\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442"],l=[a.a.createElement("td",{key:7})],n=0;n<e;n++)l.push(a.a.createElement("td",{key:n,className:"table__head-cell"},t[n]));return a.a.createElement("thead",null,a.a.createElement("tr",null,l))}(t[1].length),i=function(){var e=t.map((function(e,t){var n=e.map((function(e,n){return a.a.createElement(m,{key:n,isRight:!!e,selectionCoords:l,matrixPosition:[t,n],setSelected:function(e){return r([t,n],e)}})}));return a.a.createElement("tr",{key:t},a.a.createElement("td",{className:"table__day-number"},"\u043d\u043e\u043c\u0435\u0440 ",t+1),n)}));return a.a.createElement("tbody",null,e)}();var u=function(e,t){if(-1===t.start.row||-1===t.start.cell||-1===t.end.row||-1===t.end.cell||!e.current)return a.a.createElement(a.a.Fragment,null);var l=52*(t.end.cell-t.start.cell+1)-2,n=54*(t.end.row-t.start.row+1)-2,r=e.current,o=r.rows[0].cells[t.start.cell+1].getBoundingClientRect().left,c=r.rows[t.start.row+1].getBoundingClientRect().top+window.pageYOffset;return a.a.createElement("div",{className:"selected-cells-border",style:{left:o,top:c,width:l,height:n}},a.a.createElement("div",{className:"selected-cells-border__angle-square"}),a.a.createElement("div",{className:"selected-cells-border__angle-square"}),a.a.createElement("div",{className:"selected-cells-border__angle-square"}),a.a.createElement("div",{className:"selected-cells-border__angle-square"}),a.a.createElement("div",{className:"selected-cells-border__size-label"},l,"\xd7",n))}(c,o);return a.a.createElement(a.a.Fragment,null,a.a.createElement("table",{ref:c,className:"table"},s,i),u)};var f=l(1),E=function(e){var t,l=e.setSelectionCoords,r=e.openEditor,o=Object(n.useState)(!1),c=Object(f.a)(o,2),s=c[0],i=c[1],u=Object(n.useState)([null,null]),d=Object(f.a)(u,2),m=d[0],v=d[1],E=Object(n.useState)([null,null]),b=Object(f.a)(E,2),p=b[0],_=b[1],y=Object(n.useRef)(null);function C(e){i(!0),v([e.pageX,e.pageY]),_([e.pageX,e.pageY]);var t=y.current;document.addEventListener("mousemove",g),t.addEventListener("mouseup",w)}function g(e){_([e.pageX,e.pageY])}function w(){i(!1),v([null,null]),_([null,null]),l({start:{x:null,y:null},end:{x:null,y:null}}),r();var e=y.current;document.removeEventListener("mousemove",g),e.removeEventListener("mouseup",w)}return Object(n.useEffect)((function(){var e=y.current;return e.addEventListener("mousedown",C),function(){return e.removeEventListener("mousedown",C)}}),[]),Object(n.useEffect)((function(){h(m,p)&&l({start:{x:m[0],y:m[1]},end:{x:p[0],y:p[1]}})}),[m[0],m[1],p[0],p[1]]),h(m,p)&&(t=function(e,t){var l=Math.min(e[0],t[0]),n=Math.min(e[1],t[1]),a=Math.abs(t[0]-e[0]),r=Math.abs(t[1]-e[1]);return{left:l,top:n,width:a,height:r}}(m,p)),a.a.createElement("div",{className:"selection-layer",ref:y},s&&a.a.createElement("div",{className:"selection-layer__selection",style:t}))};function h(e,t){return null!==e[0]&&null!==e[1]&&null!==t[0]&&null!==t[1]}var b=function(e){var t=e.isRight,l=e.handleChangeStatus,r=Object(n.useState)(t),o=Object(f.a)(r,2),c=o[0],s=o[1];var i="editor__cell ";return c&&(i+="editor__cell_checked"),a.a.createElement("td",{onClick:function(){s(!c),l(!c)},className:i})},p=function(e){var t=e.matrixCopy,l=e.cellsPosition,r=e.closeEditor,o=e.applyChanges,s=Object(n.useState)(t),i=Object(f.a)(s,2),u=i[0],d=i[1],m=function(e,t){for(var l=["\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442"],n=[a.a.createElement("td",{key:7})],r=e;r<=t;r++)n.push(a.a.createElement("td",{key:r,className:"editor__head-cell"},l[r]));return a.a.createElement("thead",null,a.a.createElement("tr",null,n))}(l.start.cell,l.end.cell),v=function(){for(var e=[],n=function(n){for(var r=[],o=function(e){r.push(a.a.createElement(b,{key:e,isRight:!!t[n][e],handleChangeStatus:function(t){var l=u.map((function(e){return Object(c.a)(e)}));l[n][e]=t?1:0,d(l)}}))},s=l.start.cell;s<=l.end.cell;s++)o(s);e.push(a.a.createElement("tr",{key:n},a.a.createElement("td",{className:"editor__day-number"},"\u043d\u043e\u043c\u0435\u0440 ",n+1),r))},r=l.start.row;r<=l.end.row;r++)n(r);return e.push(function(e,t){for(var l=[],n=e.start.cell;n<=e.end.cell+1;n++)l.push(a.a.createElement("td",{className:"editor__fake-cell",key:n}));return a.a.createElement("tr",{key:t},l)}(l,u.length)),a.a.createElement("tbody",null,e)}();return a.a.createElement("div",{className:"background-locker"},a.a.createElement("div",{className:"editor"},a.a.createElement("table",{className:"editor__table"},m,v),a.a.createElement("button",{className:"editor__button editor__button_type_decline",onClick:r},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),a.a.createElement("button",{className:"editor__button editor__button_type_accept",onClick:function(){return o(u)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")))};var _=function(e){Object(u.a)(l,e);var t=Object(d.a)(l);function l(){var e;Object(s.a)(this,l);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={matrix:[[1,0,1,0,0],[0,0,0,0,0],[1,0,1,0,0],[0,0,0,0,0]],selectionCoords:{start:{x:null,y:null},end:{x:null,y:null}},selectedMatrix:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],openEditor:!1,selectedCellsPosition:{start:{row:-1,cell:-1},end:{row:-1,cell:-1}},editableCellsPosition:{start:{row:-1,cell:-1},end:{row:-1,cell:-1}}},e.setSelectedCell=function(t,l){e.setState((function(e){var n=e.selectedMatrix.map((function(e){return Object(c.a)(e)}));return n[t[0]][t[1]]=l?1:0,{selectedMatrix:n,selectedCellsPosition:y(n)}}))},e.setSelectionCoords=function(t){e.setState({selectionCoords:t})},e.handleOpenEditor=function(){var t=e.state.selectedCellsPosition;-1!==t.start.row&&e.setState({openEditor:!0,editableCellsPosition:{start:{row:t.start.row,cell:t.start.cell},end:{row:t.end.row,cell:t.end.cell}}})},e.handleCloseEditor=function(){e.setState({openEditor:!1,selectedCellsPosition:{start:{row:-1,cell:-1},end:{row:-1,cell:-1}}})},e.handleApplyEditorChanges=function(t){e.setState({matrix:t,openEditor:!1,selectedCellsPosition:{start:{row:-1,cell:-1},end:{row:-1,cell:-1}}})},e}return Object(i.a)(l,[{key:"render",value:function(){var e=this.state,t=e.matrix,l=e.selectionCoords,n=e.openEditor,r=e.selectedCellsPosition,o=e.editableCellsPosition,s=t.map((function(e){return Object(c.a)(e)}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(v,{matrix:t,selectionCoords:l,setSelectedCell:this.setSelectedCell,selectedCellsPosition:r}),a.a.createElement(E,{setSelectionCoords:this.setSelectionCoords,openEditor:this.handleOpenEditor}),n&&a.a.createElement(p,{matrixCopy:s,cellsPosition:o,closeEditor:this.handleCloseEditor,applyChanges:this.handleApplyEditorChanges}))}}]),l}(a.a.Component);function y(e){var t=e.map((function(e){return Object(c.a)(e)})),l=e.length-1,n=e.length-1,a=null,r=null;return t.forEach((function(e,o){e.forEach((function(e,c){!a&&e&&(a=[o,c]),!a||!e||o!==l&&t[o+1][c]||c!==n&&t[o][c+1]||(r=[o,c])}))})),a||(a=[-1,-1]),r||(r=[-1,-1]),{start:{row:a[0],cell:a[1]},end:{row:r[0],cell:r[1]}}}o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.c546940b.chunk.js.map